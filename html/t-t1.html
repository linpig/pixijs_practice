<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>
    <script src="../js/pixi.min.js"></script>
    <script>
    var renderer = PIXI.autoDetectRenderer(800, 600, {
        backgroundColor: 0x1099bb
    });
    document.body.appendChild(renderer.view);
    var stage = new PIXI.Container();
    var totaldudes = 20;
    var dudeArray = [];
    for (var i = 0; i < totaldudes; i++) {
        var sprite = PIXI.Sprite.fromImage('../images/bunny.png');

        // sprite.position.set(230, 264);
        sprite.interactive = true;
        sprite.on('mousedown', onDown);
        sprite.on('touchstart', onDown);
        sprite.position.x = Math.floor(Math.random() * renderer.width);
        sprite.position.y = Math.floor(Math.random() * renderer.height);
        // sprite.blendMode = PIXI.BLEND_MODES.ADD;
        sprite.direction = Math.random() * Math.PI * 2;
        sprite.turningSpeed = Math.random() - 0.8;
        sprite.speed = 2 + Math.random() * 2;
        dudeArray.push(sprite);
        stage.addChild(sprite);
    }
    var target = new PIXI.Point();
    reset();

    function reset() {


        target.x = Math.floor(Math.random() * 550);
        target.y = Math.floor(Math.random() * 300);

    }
    requestAnimationFrame(animate);

    function onDown(eventData) {}
    animate();

    function animate() {
        for (var i = 0; i < dudeArray.length; i++) {
            var sprite = dudeArray[i];
            sprite.position.x = Math.floor(Math.random() * renderer.width);
            sprite.position.y = Math.floor(Math.random() * renderer.height);
            if (Math.abs(sprite.x - target.x) < 1) {
                reset();
            }
        }
        renderer.render(stage);
        requestAnimationFrame(animate);
    }
    </script>
    <p>
        <a href="../index.html" class="btn">&lt; Go Back</a>
    </p>
</body>

</html>
